(self.webpackChunkbeem_africa=self.webpackChunkbeem_africa||[]).push([[880],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8215:function(e,t,n){"use strict";var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},1395:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(7294),r=n(944),i=n(6010),o="tabItem_1uMI",s="tabItemActive_2DSg";var l=37,c=39;var u=function(e){var t=e.lazy,n=e.block,u=e.defaultValue,p=e.values,d=e.groupId,m=e.className,h=(0,r.Z)(),f=h.tabGroupChoices,v=h.setTabGroupChoices,g=(0,a.useState)(u),y=g[0],b=g[1],k=a.Children.toArray(e.children),N=[];if(null!=d){var w=f[d];null!=w&&w!==y&&p.some((function(e){return e.value===w}))&&b(w)}var P=function(e){var t=e.currentTarget,n=N.indexOf(t),a=p[n].value;b(a),null!=d&&(v(d,a),setTimeout((function(){var e,n,a,r,i,o,l,c;(e=t.getBoundingClientRect(),n=e.top,a=e.left,r=e.bottom,i=e.right,o=window,l=o.innerHeight,c=o.innerWidth,n>=0&&i<=c&&r<=l&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},T=function(e){var t,n;switch(e.keyCode){case c:var a=N.indexOf(e.target)+1;n=N[a]||N[0];break;case l:var r=N.indexOf(e.target)-1;n=N[r]||N[N.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},m)},p.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,i.Z)("tabs__item",o,{"tabs__item--active":y===t}),key:t,ref:function(e){return N.push(e)},onKeyDown:T,onFocus:P,onClick:P},n)}))),t?(0,a.cloneElement)(k.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},k.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}},9443:function(e,t,n){"use strict";var a=(0,n(7294).createContext)(void 0);t.Z=a},944:function(e,t,n){"use strict";var a=n(7294),r=n(9443);t.Z=function(){var e=(0,a.useContext)(r.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},4162:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},metadata:function(){return u},toc:function(){return p},default:function(){return m}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),o=n(1395),s=n(8215),l=["components"],c={sidebar_position:4},u={unversionedId:"OTP",id:"OTP",isDocsHomePage:!1,title:"OTP",description:"The Beem OTP API has been developed to provide a simpler way for developers and enterprises to verify customer mobile numbers using one time pins without understanding the underlying channel for sending pins. This REST based API currently supports sending and verifying one time passwords/pins (OTP) requests. The SMS channel is supported at the moment but alternative channels will be added in the future.",source:"@site/docs/OTP.md",sourceDirName:".",slug:"/OTP",permalink:"/BeemAfrica/docs/OTP",editUrl:"https://github.com/Kalebu/BeemAfrica/edit/main/docs/OTP.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"SMS",permalink:"/BeemAfrica/docs/SMS"},next:{title:"AirTime",permalink:"/BeemAfrica/docs/AirTime"}},p=[{value:"OTP Process Flow",id:"otp-process-flow",children:[]},{value:"Overall Logic",id:"overall-logic",children:[]},{value:"Requesting for PIN and Sending OTP",id:"requesting-for-pin-and-sending-otp",children:[{value:"Example 2.0",id:"example-20",children:[]}]},{value:"Verifying OTP",id:"verifying-otp",children:[{value:"Example 2.1",id:"example-21",children:[]}]}],d={toc:p};function m(e){var t=e.components,c=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},d,c,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The Beem OTP API has been developed to provide a simpler way for developers and enterprises to verify customer mobile numbers using one time pins without understanding the underlying channel for sending pins. This REST based API currently supports sending and verifying one time passwords/pins (OTP) requests. The SMS channel is supported at the moment but alternative channels will be added in the future."),(0,i.kt)("h2",{id:"otp-process-flow"},"OTP Process Flow"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8234).Z})),(0,i.kt)("h2",{id:"overall-logic"},"Overall Logic"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"User enters the Phone number into the application."),(0,i.kt)("li",{parentName:"ol"},"Application sends the user\u2019s phone number to Beem."),(0,i.kt)("li",{parentName:"ol"},"Phone number is validated."),(0,i.kt)("li",{parentName:"ol"},"If phone number is valid, Beem generates the PIN and PIN ID, and sends the PIN ID back to the application (Response)"),(0,i.kt)("li",{parentName:"ol"},"Beem generates the PIN and sends it via SMS/other channel(email/ussd)"),(0,i.kt)("li",{parentName:"ol"},"MNO delivers the SMS with the PIN code"),(0,i.kt)("li",{parentName:"ol"},"Beem receives the Delivery report for sent message"),(0,i.kt)("li",{parentName:"ol"},"User enters the received PIN code into the application"),(0,i.kt)("li",{parentName:"ol"},"Application sends the verification request with the PIN and PIN ID"),(0,i.kt)("li",{parentName:"ol"},"Beem verifies the received PIN and sends the response to the application.")),(0,i.kt)("p",null,"With OTP Services for One Time password verification system you can generate and send disposable passwords that is expected to be expired after a certain time."),(0,i.kt)("p",null,"Mostly of website nowdays have in built 2-factor authentication to make sure that only the right person access certain resources, this play a huge role at time where user password is comprimised, OTP prevents user from going further unless he/she has physical access to your phone/email."),(0,i.kt)("p",null,"Here how you integrate OTP to your application with Beem"),(0,i.kt)("h2",{id:"requesting-for-pin-and-sending-otp"},"Requesting for PIN and Sending OTP"),(0,i.kt)("p",null,"With the current implementation of SDK the process is even more simplified, with a single function you will be able to generate and send OTP to the target user just as shown in the Example below;"),(0,i.kt)("h3",{id:"example-20"},"Example 2.0"),(0,i.kt)(o.Z,{defaultValue:"py",values:[{label:"Python",value:"py"},{label:"JavaScript",value:"js"},{label:"PHP",value:"php"}],mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"py",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},">>> OTP.send_otp('2557xxxxxx')\n{'data': {'pinId': '4a5c2141-c965-4a9d-aca4-54f58063e831', 'message': {'code': 100, 'message': 'SMS sent successfully'}}}\n\n"))),(0,i.kt)(s.Z,{value:"js",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"Not yet(maybe its waiting for you)\n"))),(0,i.kt)(s.Z,{value:"php",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"Not yet(maybe its waiting for you)\n")))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You have to store the ",(0,i.kt)("strong",{parentName:"p"},"pinId")," returned back from response, because we gonna need it to verify the OTP"))),(0,i.kt)("h2",{id:"verifying-otp"},"Verifying OTP"),(0,i.kt)("p",null,"Well after sending an OTP to the user, you might need to verify its validity and again you don't need to handle this process by own, Beem have built in infrastructure justfor that, what you need is the ",(0,i.kt)("strong",{parentName:"p"},"pinId")," you received as part of json response while sending an OTP and also the PIN itself entered by corresponding user."),(0,i.kt)("p",null,"Verification process is going to look as shown in the example below;"),(0,i.kt)("h3",{id:"example-21"},"Example 2.1"),(0,i.kt)(o.Z,{defaultValue:"py",values:[{label:"Python",value:"py"},{label:"JavaScript",value:"js"},{label:"PHP",value:"php"}],mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"py",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},">>> OTP.verify(pin_id='4a5c2141-c965-4a9d-aca4-54f58063e831', pin='122496')\n{'data': {'message': {'code': 117, 'message': 'Valid Pin'}}}\n"))),(0,i.kt)(s.Z,{value:"js",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"Not yet(maybe its waiting for you)\n"))),(0,i.kt)(s.Z,{value:"php",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"Not yet(maybe its waiting for you)\n")))),(0,i.kt)("p",null,"Thats all for OTP Module, Take a look more beem services to be certified as Beem Champion."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"incase of any issue or difficult encountred with the usage of this module, raise an issue on corresponding github repository"))))}m.isMDXComponent=!0},6010:function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{Z:function(){return r}})},8234:function(e,t,n){"use strict";t.Z=n.p+"assets/images/OTP-Infographic-6a8428c28d1388c05234aefd94df0777.png"}}]);